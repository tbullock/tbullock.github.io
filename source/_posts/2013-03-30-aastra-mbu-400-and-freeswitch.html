---
layout: post
title: "Aastra MBU 400 and FreeSWITCH"
date: 2013-03-30
comments: false
---

<div class='post'>
Today I'm hanging out at my parents <a href="http://www.empressive.ca/" target="_blank">gas station/gallery/cafe/grocery store/internet publishing company</a>. I took some time today to configure an <a href="http://www.aastra.ca/aastra-mbu-400.htm" target="_blank">Aastra MBU 400</a> for use with FreeSWITCH. The MBU 400 is a discontinued Aastra product apparently targeted towards residential or small office deployments where users would want portable handsets, akin to standard wireless portables that people already have in their homes.<br /><br /><table align="center" cellpadding="0" cellspacing="0" class="tr-caption-container" style="margin-left: auto; margin-right: auto; text-align: center;"><tbody><tr><td style="text-align: center;"><a href="http://3.bp.blogspot.com/-82fCAwY9rLE/UVdBXyO8zYI/AAAAAAAAAFM/QpPdkipalMc/s1600/aastra-420d.png" imageanchor="1" style="margin-left: auto; margin-right: auto;"><img border="0" height="320" src="http://3.bp.blogspot.com/-82fCAwY9rLE/UVdBXyO8zYI/AAAAAAAAAFM/QpPdkipalMc/s320/aastra-420d.png" width="244" /></a></td></tr><tr><td class="tr-caption" style="text-align: center;">Aastra 420d Portable handset which connects to MBU 400 base station, supports multiple handsets</td></tr></tbody></table>The MBU 400 base station in my possession has a traditional POTS RJ11 port on the back for connecting to standard phone systems as well as a 10/100 network port to get the device onto the network and communicate with a SIP server.<br /><br />It is possible to provision the network configuration for the base station through one of the handsets, selecting between static IP or DHCP. Also it seems possible to provision some aspects of the SIP configuration though the handset as well, although the experience would probably be tedious and is likely missing many fine grained settings. Like most SIP phones, the configuration can be pushed out with some proprietary gear from Aastra, which I don't own, and wouldn't buy anyway.<br /><br />The MBU 400 has a web interface, for which the default credentials are:<br /><ul><li>Username: admin</li><li>Password: 22222</li></ul>The SIP account configuration seems to require both the <i>Registrar</i> and <i>Outbound Proxy</i> fields to be filled (even if they have the same information). I pointed these towards my FreeSWITCH instance, to which I had already setup a new user extension.<br /><br />Seeing as how my FreeSWITCH server is remote (I don't leave it sitting around my parents place), it needs to communicate over an IPv4 NAT.&nbsp; The out of the box configuration didn't seem to work, but with a lot of diddling around with settings I managed to get it to connect.<br /><br />To get inbound and outbound calling working, I needed to turn on stun, rport and turn the keepalive time down.<br /><br />The MBU 400 is definitely an aged device which doesn't support a lot SIP features, notably there is no support for any type of encryption at any point in the communication process. Nor does the device support TCP SIP connections, which I prefer over UDP for a variety of reasons (which I might get into some other time). Codec support is pretty sparse and I ended up with vanilla PCMU audio.<br /><br />Some conclusions:<br /><ul><li>The device is out of production. Don't buy a new one. Support has expired from Aastra too.</li><li>Nice for setups like my parents, it answers legacy POTS calls by default, but automatically dials out on my SIP circuit.</li><li>Works with FreeSWITCH for inbound and outbound dialing, but I haven't tested other features like message waiting or holding calls.</li><li>Buttons are a little small, and the ergonomics kind of suck.</li></ul>Modern implementations like the <a href="http://www.cisco.com/en/US/products/ps12775/index.html" target="_blank">Cisco SPA232D </a>and correlated <a href="http://www.cisco.com/en/US/prod/collateral/voicesw/ps6788/phones/ps10998/ps12776/data_sheet_c78-717757.html" target="_blank">SPA302 portable handset</a> does everything the MBU 400 does and much better.</div>
