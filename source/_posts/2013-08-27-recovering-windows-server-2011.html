---
layout: post
title: "Recovering a Windows Server 2011 Essentials image from a USB backup drive"
date: 2013-08-27
comments: false
---

<div class='post'>
I have a customer which uses Windows SBS 2011 Essentials as a basic file and backup server. It runs on one of those little supermicro servers with an integrated atom chip and 4GB of RAM. Hardly a workhorse, but it is perfectly adequate for running his three person office.<br /><br />Anyway, this morning I got a call saying that the server was down, and couldn't seem to be restarted.<br /><br />When this kind of thing happens, I usually presume that its some kind of minor user error (like its not plugged in, or the tooth fairies pulled out the network cable overnight) and almost always, I can get in and out within a few minutes and couple magical key strokes.<br /><br />Well... Today was a genuine problem requiring some actual work.<br /><br />Turns out the the hard drive (yes there is just one drive in the unit) suffered some sort of mechanical fault and started clicking rather badly.<br /><br />Well, a quick run to the local computer shop and a few minutes of minor surgery yielded a perfectly functional, yet completely blank file server (being blank is very bad for a server). The value the server had nothing to do with the actual cost of the equipment, but its value rests entirely on its function as a repository of all the companies data and that data is on the dead drive.<br /><br />Fortunately, I had seen this coming a long time ago and the machine has been dumping daily images to an old drobo sitting on the shelf for something on the order of 3 years. Btw, those old drobo's aren't good for much, but this is one job that they do pretty well.<br /><br />Anyway, recovering the image was fairly straight forward (this server doesn't have a DVD drive) so I needed to image a USB stick with the SBS 2011 Essentials installation disk, which works fine except for the fact that the Windows recovery software doesn't like magical new drives showing up when its about to recover an image, so annoyingly I needed to disconnect the USB stick just after the software had identified the recovery image and before starting the recovery process otherwise I would be whacked with error 0x80070057 which basically says that the recovery system is shaped differently than it should be.<br /><br />Yawn.<br /><br />All in all the recovery process is fairly straight forward, and the only thing I'd like to see added is a way to clone the recovery images to an offsite storage thingy. <br /><br /></div>
